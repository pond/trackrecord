<!DOCTYPE html>

<html>
<head>
<meta content="text/html; charset=utf-8" http-equiv="Content-Type">

<title>class ControlPanel - YOUR_TITLE</title>

<link type="text/css" media="screen" href="./rdoc.css" rel="stylesheet">

<script type="text/javascript">
  var rdoc_rel_prefix = "./";
</script>

<script type="text/javascript" charset="utf-8" src="./js/jquery.js"></script>
<script type="text/javascript" charset="utf-8" src="./js/navigation.js"></script>
<script type="text/javascript" charset="utf-8" src="./js/search_index.js"></script>
<script type="text/javascript" charset="utf-8" src="./js/search.js"></script>
<script type="text/javascript" charset="utf-8" src="./js/searcher.js"></script>
<script type="text/javascript" charset="utf-8" src="./js/darkfish.js"></script>


<body id="top" class="class">
<nav id="metadata">
  <nav id="home-section" class="section">
  <h3 class="section-header">
    <a href="./index.html">Home</a>
    <a href="./table_of_contents.html#classes">Classes</a>
    <a href="./table_of_contents.html#methods">Methods</a>
  </h3>
</nav>


  <nav id="search-section" class="section project-section" class="initially-hidden">
  <form action="#" method="get" accept-charset="utf-8">
    <h3 class="section-header">
      <input type="text" name="search" placeholder="Search" id="search-field"
             title="Type to search, Up and Down to navigate, Enter to load">
    </h3>
  </form>

  <ul id="search-results" class="initially-hidden"></ul>
</nav>


  <div id="file-metadata">
    <nav id="file-list-section" class="section">
  <h3 class="section-header">Defined In</h3>
  <ul>
    <li>app/models/control_panel.rb
  </ul>
</nav>

    
  </div>

  <div id="class-metadata">
    
    <nav id="parent-class-section" class="section">
  <h3 class="section-header">Parent</h3>
  
  <p class="link">ActiveRecord::Base
  
</nav>

    
    <!-- Method Quickref -->
<nav id="method-list-section" class="section">
  <h3 class="section-header">Methods</h3>

  <ul class="link-list">
    
    <li><a href="#method-i-get_preference">#get_preference</a>
    
    <li><a href="#method-i-remove_inactive_tasks">#remove_inactive_tasks</a>
    
    <li><a href="#method-i-set_preference">#set_preference</a>
    
    <li><a href="#method-i-set_preference-21">#set_preference!</a>
    
  </ul>
</nav>

  </div>

  <div id="project-metadata">
    <nav id="fileindex-section" class="section project-section">
  <h3 class="section-header">Pages</h3>

  <ul>
  
    <li class="file"><a href="./doc/README_FOR_APP.html">README_FOR_APP</a>
  
  </ul>
</nav>

    <nav id="classindex-section" class="section project-section">
  <h3 class="section-header">Class and Module Index</h3>

  <ul class="link-list">
  
    <li><a href="./TrackRecordReport.html">TrackRecordReport</a>
  
    <li><a href="./TrackRecordReport/Calculator.html">TrackRecordReport::Calculator</a>
  
    <li><a href="./TrackRecordReport/CalculatorWithUsers.html">TrackRecordReport::CalculatorWithUsers</a>
  
    <li><a href="./TrackRecordReport/Cell.html">TrackRecordReport::Cell</a>
  
    <li><a href="./TrackRecordReport/Report.html">TrackRecordReport::Report</a>
  
    <li><a href="./TrackRecordReport/Row.html">TrackRecordReport::Row</a>
  
    <li><a href="./TrackRecordReport/Section.html">TrackRecordReport::Section</a>
  
    <li><a href="./TrackRecordSections.html">TrackRecordSections</a>
  
    <li><a href="./TrackRecordSections/Group.html">TrackRecordSections::Group</a>
  
    <li><a href="./TrackRecordSections/GroupMixin.html">TrackRecordSections::GroupMixin</a>
  
    <li><a href="./TrackRecordSections/Section.html">TrackRecordSections::Section</a>
  
    <li><a href="./TrackRecordSections/SectionMixin.html">TrackRecordSections::SectionMixin</a>
  
    <li><a href="./TrackRecordSections/Sections.html">TrackRecordSections::Sections</a>
  
    <li><a href="./TrackRecordSections/SectionsMixin.html">TrackRecordSections::SectionsMixin</a>
  
    <li><a href="./ReportsHelper.html">ReportsHelper</a>
  
    <li><a href="./ReportsHelper/ReportMonth.html">ReportsHelper::ReportMonth</a>
  
    <li><a href="./ReportsHelper/ReportWeek.html">ReportsHelper::ReportWeek</a>
  
    <li><a href="./ReportsHelper/ReportYear.html">ReportsHelper::ReportYear</a>
  
    <li><a href="./QuietLeightbox.html">QuietLeightbox</a>
  
    <li><a href="./QuietLeightbox/ClassMethods.html">QuietLeightbox::ClassMethods</a>
  
    <li><a href="./QuietLeightbox/QuietLeightboxHelper.html">QuietLeightbox::QuietLeightboxHelper</a>
  
    <li><a href="./QuietPrototype.html">QuietPrototype</a>
  
    <li><a href="./QuietPrototype/ClassMethods.html">QuietPrototype::ClassMethods</a>
  
    <li><a href="./QuietPrototype/QuietPrototypeHelper.html">QuietPrototype::QuietPrototypeHelper</a>
  
    <li><a href="./YuiTree.html">YuiTree</a>
  
    <li><a href="./YuiTree/ClassMethods.html">YuiTree::ClassMethods</a>
  
    <li><a href="./YuiTree/YuiTreeHelper.html">YuiTree::YuiTreeHelper</a>
  
    <li><a href="./SafeInPlaceEditing.html">SafeInPlaceEditing</a>
  
    <li><a href="./SafeInPlaceEditing/ClassMethods.html">SafeInPlaceEditing::ClassMethods</a>
  
    <li><a href="./TrackRecordReportGenerator.html">TrackRecordReportGenerator</a>
  
    <li><a href="./TrackRecordReportGenerator/UkOrgPondCSV.html">TrackRecordReportGenerator::UkOrgPondCSV</a>
  
    <li><a href="./ApplicationController.html">ApplicationController</a>
  
    <li><a href="./ApplicationHelper.html">ApplicationHelper</a>
  
    <li><a href="./AuditsController.html">AuditsController</a>
  
    <li><a href="./AuditsHelper.html">AuditsHelper</a>
  
    <li><a href="./ChartsController.html">ChartsController</a>
  
    <li><a href="./ChartsHelper.html">ChartsHelper</a>
  
    <li><a href="./ControlPanel.html">ControlPanel</a>
  
    <li><a href="./ControlPanelsController.html">ControlPanelsController</a>
  
    <li><a href="./Customer.html">Customer</a>
  
    <li><a href="./CustomersController.html">CustomersController</a>
  
    <li><a href="./CustomersHelper.html">CustomersHelper</a>
  
    <li><a href="./EmailNotifier.html">EmailNotifier</a>
  
    <li><a href="./HelpController.html">HelpController</a>
  
    <li><a href="./HelpHelper.html">HelpHelper</a>
  
    <li><a href="./Project.html">Project</a>
  
    <li><a href="./ProjectsController.html">ProjectsController</a>
  
    <li><a href="./ProjectsHelper.html">ProjectsHelper</a>
  
    <li><a href="./Rangeable.html">Rangeable</a>
  
    <li><a href="./ReportsController.html">ReportsController</a>
  
    <li><a href="./SafeInPlaceEditingHelper.html">SafeInPlaceEditingHelper</a>
  
    <li><a href="./SavedReport.html">SavedReport</a>
  
    <li><a href="./SavedReportAutoTitlesController.html">SavedReportAutoTitlesController</a>
  
    <li><a href="./SavedReportsBaseController.html">SavedReportsBaseController</a>
  
    <li><a href="./SavedReportsByCustomerController.html">SavedReportsByCustomerController</a>
  
    <li><a href="./SavedReportsByProjectController.html">SavedReportsByProjectController</a>
  
    <li><a href="./SavedReportsByTaskController.html">SavedReportsByTaskController</a>
  
    <li><a href="./SavedReportsByUserController.html">SavedReportsByUserController</a>
  
    <li><a href="./SavedReportsController.html">SavedReportsController</a>
  
    <li><a href="./SavedReportsHelper.html">SavedReportsHelper</a>
  
    <li><a href="./SessionsController.html">SessionsController</a>
  
    <li><a href="./Task.html">Task</a>
  
    <li><a href="./TaskGroup.html">TaskGroup</a>
  
    <li><a href="./TaskImport.html">TaskImport</a>
  
    <li><a href="./TaskImportsController.html">TaskImportsController</a>
  
    <li><a href="./TaskImportsHelper.html">TaskImportsHelper</a>
  
    <li><a href="./TasksController.html">TasksController</a>
  
    <li><a href="./TasksHelper.html">TasksHelper</a>
  
    <li><a href="./Timesheet.html">Timesheet</a>
  
    <li><a href="./TimesheetForceCommit.html">TimesheetForceCommit</a>
  
    <li><a href="./TimesheetForceCommitsController.html">TimesheetForceCommitsController</a>
  
    <li><a href="./TimesheetRow.html">TimesheetRow</a>
  
    <li><a href="./TimesheetRowsController.html">TimesheetRowsController</a>
  
    <li><a href="./TimesheetRowsHelper.html">TimesheetRowsHelper</a>
  
    <li><a href="./TimesheetsController.html">TimesheetsController</a>
  
    <li><a href="./TimesheetsHelper.html">TimesheetsHelper</a>
  
    <li><a href="./TreesController.html">TreesController</a>
  
    <li><a href="./User.html">User</a>
  
    <li><a href="./UsersController.html">UsersController</a>
  
    <li><a href="./UsersHelper.html">UsersHelper</a>
  
    <li><a href="./WorkPacket.html">WorkPacket</a>
  
    <li><a href="./WorkPacketsController.html">WorkPacketsController</a>
  
    <li><a href="./WorkPacketsHelper.html">WorkPacketsHelper</a>
  
  </ul>
</nav>

  </div>
</nav>

<div id="documentation">
  <h1 class="class">class ControlPanel</h1>

  <div id="description" class="description">
    <dl class="rdoc-list note-list"><dt>File
<dd>
<p>control_panel.rb</p>
</dd><dt>(C)
<dd>
<p>Hipposoft 2007</p>
</dd><dt>Purpose
<dd>
<p>Manage settings for individual <a href="User.html">User</a> models. See
below for more details.</p>
</dd></dl>
<hr style="height: 10px">

<pre>24-Dec-2007 (ADH): Created.</pre>

  </div><!-- description -->

  
  
  
  <section id="5Buntitled-5D" class="documentation-section">
    

    

    

    

    <!-- Methods -->
    
     <section id="public-instance-5Buntitled-5D-method-details" class="method-section section">
      <h3 class="section-header">Public Instance Methods</h3>

    
      <div id="method-i-get_preference" class="method-detail ">
        
        <div class="method-heading">
          <span class="method-name">get_preference</span><span
            class="method-args">( key_str )</span>
          <span class="method-click-advice">click to toggle source</span>
        </div>
        

        <div class="method-description">
          
          <p>Get a value from the instance’s preferences hash. The hash is nested in a
similar manner to the I18n module’s translation hashes and is addressed in
a similar way - pass a dot-separated key string, e.g. “foo.bar.baz”.
Returns ‘nil’ for unset preferences, else the value at that location.</p>

<p>Currently defined preferences include (but may not be limited to - this
list may be out of date) the following:</p>

<pre class="ruby"><span class="ruby-identifier">sorting</span> =<span class="ruby-operator">&gt;</span> { <span class="ruby-operator">&lt;</span><span class="ruby-identifier">controller</span><span class="ruby-operator">-</span><span class="ruby-identifier">name</span><span class="ruby-operator">&gt;</span> =<span class="ruby-operator">&gt;</span> { <span class="ruby-operator">&lt;</span><span class="ruby-identifier">sort</span> <span class="ruby-identifier">data</span><span class="ruby-operator">&gt;</span> } }

  <span class="ruby-constant">Most</span> <span class="ruby-identifier">recently</span> <span class="ruby-identifier">recorded</span> <span class="ruby-identifier">value</span> <span class="ruby-identifier">of</span> <span class="ruby-identifier">params</span>[:<span class="ruby-identifier">sort</span>] <span class="ruby-identifier">by</span> <span class="ruby-identifier">an</span> <span class="ruby-identifier">index</span> <span class="ruby-identifier">action</span> <span class="ruby-keyword">for</span>
  <span class="ruby-identifier">a</span> <span class="ruby-identifier">controller</span> <span class="ruby-identifier">identified</span> <span class="ruby-identifier">by</span> <span class="ruby-operator">&lt;</span><span class="ruby-identifier">controller_name</span><span class="ruby-operator">&gt;</span>. <span class="ruby-constant">For</span> <span class="ruby-identifier">more</span> <span class="ruby-identifier">information</span> <span class="ruby-identifier">see</span>
  <span class="ruby-string">&quot;appctrl_apply_sorting_preferences&quot;</span>.

<span class="ruby-identifier">per_page</span> =<span class="ruby-operator">&gt;</span> { <span class="ruby-operator">&lt;</span><span class="ruby-identifier">controller</span><span class="ruby-operator">-</span><span class="ruby-identifier">name</span><span class="ruby-operator">&gt;</span> =<span class="ruby-operator">&gt;</span> { <span class="ruby-operator">&lt;</span><span class="ruby-identifier">pagination</span> <span class="ruby-identifier">data</span><span class="ruby-operator">&gt;</span> } }
</pre>
          

          
          <div class="method-source-code" id="get_preference-source">
            <pre><span class="ruby-comment"># File app/models/control_panel.rb, line 62</span>
<span class="ruby-keyword">def</span> <span class="ruby-identifier">get_preference</span>( <span class="ruby-identifier">key_str</span> )
  <span class="ruby-identifier">keys</span> = <span class="ruby-identifier">key_str</span>.<span class="ruby-identifier">split</span>( <span class="ruby-string">'.'</span> )
  <span class="ruby-identifier">pref</span> = <span class="ruby-keyword">self</span>.<span class="ruby-identifier">preferences</span>

  <span class="ruby-keyword">for</span> <span class="ruby-identifier">key</span> <span class="ruby-keyword">in</span> <span class="ruby-identifier">keys</span>
    <span class="ruby-keyword">return</span> <span class="ruby-keyword">nil</span> <span class="ruby-keyword">if</span> <span class="ruby-identifier">pref</span>.<span class="ruby-identifier">nil?</span>
    <span class="ruby-identifier">pref</span> = <span class="ruby-identifier">pref</span>[ <span class="ruby-identifier">key</span> ]
  <span class="ruby-keyword">end</span>

  <span class="ruby-keyword">return</span> <span class="ruby-identifier">pref</span>
<span class="ruby-keyword">end</span></pre>
          </div><!-- get_preference-source -->
          
        </div>

        

        
      </div><!-- get_preference-method -->

    
      <div id="method-i-remove_inactive_tasks" class="method-detail ">
        
        <div class="method-heading">
          <span class="method-name">remove_inactive_tasks</span><span
            class="method-args">()</span>
          <span class="method-click-advice">click to toggle source</span>
        </div>
        

        <div class="method-description">
          
          <p>Remove inactive tasks from the control panel. The caller is responsible for
saving the updated object.</p>
          

          
          <div class="method-source-code" id="remove_inactive_tasks-source">
            <pre><span class="ruby-comment"># File app/models/control_panel.rb, line 40</span>
<span class="ruby-keyword">def</span> <span class="ruby-identifier">remove_inactive_tasks</span>
  <span class="ruby-comment"># See the User model's remove_inactive_tasks method for details.</span>

  <span class="ruby-keyword">self</span>.<span class="ruby-identifier">tasks</span> = <span class="ruby-keyword">self</span>.<span class="ruby-identifier">tasks</span>.<span class="ruby-identifier">where</span>( <span class="ruby-value">:active</span> =<span class="ruby-operator">&gt;</span> <span class="ruby-keyword">true</span> )
<span class="ruby-keyword">end</span></pre>
          </div><!-- remove_inactive_tasks-source -->
          
        </div>

        

        
      </div><!-- remove_inactive_tasks-method -->

    
      <div id="method-i-set_preference" class="method-detail ">
        
        <div class="method-heading">
          <span class="method-name">set_preference</span><span
            class="method-args">( key_str, value )</span>
          <span class="method-click-advice">click to toggle source</span>
        </div>
        

        <div class="method-description">
          
          <p>Set the value of a preference identified as for “<a
href="ControlPanel.html#method-i-get_preference">#get_preference</a>”
above. If any of the nested hashes identified by the key string are missing
(e.g. in example “foo.bar.baz”, any of hashes “foo”, “bar” or “baz”) then
relevant entries in the preferences will be made automatically.</p>

<p>The method saves ‘self’ back to database and returns the return value of
the call made to “save”. Thus returns ‘false’ on failure, else ‘true’.</p>

<p>See also “<a
href="ControlPanel.html#method-i-set_preference">#set_preference</a>!”.</p>
          

          
          <div class="method-source-code" id="set_preference-source">
            <pre><span class="ruby-comment"># File app/models/control_panel.rb, line 84</span>
<span class="ruby-keyword">def</span> <span class="ruby-identifier">set_preference</span>( <span class="ruby-identifier">key_str</span>, <span class="ruby-identifier">value</span> )
  <span class="ruby-keyword">return</span> <span class="ruby-identifier">set_preference_by_method!</span>( <span class="ruby-identifier">key_str</span>, <span class="ruby-identifier">value</span>, <span class="ruby-value">:save</span> )
<span class="ruby-keyword">end</span></pre>
          </div><!-- set_preference-source -->
          
        </div>

        

        
      </div><!-- set_preference-method -->

    
      <div id="method-i-set_preference-21" class="method-detail ">
        
        <div class="method-heading">
          <span class="method-name">set_preference!</span><span
            class="method-args">( key_str, value )</span>
          <span class="method-click-advice">click to toggle source</span>
        </div>
        

        <div class="method-description">
          
          <p>As “<a
href="ControlPanel.html#method-i-set_preference">#set_preference</a>” but
returns the result of a call to “save!”, so raises an exception on failure.</p>
          

          
          <div class="method-source-code" id="set_preference-21-source">
            <pre><span class="ruby-comment"># File app/models/control_panel.rb, line 91</span>
<span class="ruby-keyword">def</span> <span class="ruby-identifier">set_preference!</span>( <span class="ruby-identifier">key_str</span>, <span class="ruby-identifier">value</span> )
  <span class="ruby-keyword">return</span> <span class="ruby-identifier">set_preference_by_method!</span>( <span class="ruby-identifier">key_str</span>, <span class="ruby-identifier">value</span>, <span class="ruby-value">:save!</span> )
<span class="ruby-keyword">end</span></pre>
          </div><!-- set_preference-21-source -->
          
        </div>

        

        
      </div><!-- set_preference-21-method -->

    
    </section><!-- public-instance-method-details -->
  
  </section><!-- 5Buntitled-5D -->

</div><!-- documentation -->


<footer id="validator-badges">
  <p><a href="http://validator.w3.org/check/referer">[Validate]</a>
  <p>Generated by <a href="https://github.com/rdoc/rdoc">RDoc</a> 3.12.2.
  <p>Generated with the <a href="http://deveiate.org/projects/Darkfish-Rdoc/">Darkfish Rdoc Generator</a> 3.
</footer>

